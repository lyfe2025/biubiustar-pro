-- 添加示例活动数据

-- 插入示例活动
INSERT INTO activities (
  id,
  title,
  description,
  content,
  image_url,
  start_date,
  end_date,
  registration_start,
  registration_end,
  location,
  max_participants,
  current_participants,
  price,
  status,
  category,
  tags,
  organizer_id,
  is_featured,
  created_at,
  updated_at
) VALUES 
(
  gen_random_uuid(),
  '2024年度技术峰会',
  '汇聚行业顶尖技术专家，分享最新技术趋势和实践经验',
  '本次技术峰会将邀请来自各大科技公司的技术专家，分享人工智能、云计算、大数据等前沿技术的最新发展。会议包含主题演讲、技术分享、圆桌讨论等多个环节，为技术从业者提供学习交流的平台。',
  'https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?prompt=modern%20tech%20conference%20hall%20with%20large%20screens%20and%20audience&image_size=landscape_16_9',
  '2024-03-15 09:00:00+00',
  '2024-03-15 18:00:00+00',
  '2024-02-01 00:00:00+00',
  '2024-03-10 23:59:59+00',
  '上海国际会议中心',
  500,
  156,
  299.00,
  'active',
  '技术',
  ARRAY['技术', '峰会', 'AI', '云计算'],
  (SELECT id FROM auth.users LIMIT 1),
  true,
  NOW(),
  NOW()
),
(
  gen_random_uuid(),
  '创业者交流沙龙',
  '为创业者提供交流合作的平台，分享创业经验和资源',
  '本次沙龙邀请成功创业者、投资人和行业专家，围绕创业趋势、融资策略、团队建设等话题进行深入交流。活动采用小组讨论和一对一交流的形式，为创业者提供实用的指导和资源对接机会。',
  'https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?prompt=business%20networking%20event%20with%20entrepreneurs%20discussing&image_size=landscape_16_9',
  '2024-03-20 14:00:00+00',
  '2024-03-20 17:00:00+00',
  '2024-02-15 00:00:00+00',
  '2024-03-18 23:59:59+00',
  '北京创业大厦',
  80,
  45,
  0.00,
  'active',
  '商业',
  ARRAY['创业', '交流', '投资', '商业'],
  (SELECT id FROM auth.users LIMIT 1),
  false,
  NOW(),
  NOW()
),
(
  gen_random_uuid(),
  '设计思维工作坊',
  '学习设计思维方法论，提升创新能力和问题解决技能',
  '通过理论讲解和实践练习，帮助参与者掌握设计思维的核心方法和工具。工作坊包含用户研究、需求分析、创意生成、原型制作等环节，适合产品经理、设计师、开发者等角色参与。',
  'https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?prompt=design%20thinking%20workshop%20with%20sticky%20notes%20and%20brainstorming&image_size=landscape_16_9',
  '2024-03-25 10:00:00+00',
  '2024-03-25 16:00:00+00',
  '2024-02-20 00:00:00+00',
  '2024-03-22 23:59:59+00',
  '深圳设计中心',
  30,
  18,
  199.00,
  'active',
  '设计',
  ARRAY['设计', '工作坊', '创新', '思维'],
  (SELECT id FROM auth.users LIMIT 1),
  true,
  NOW(),
  NOW()
),
(
  gen_random_uuid(),
  '开源项目贡献指南',
  '学习如何参与开源项目，提升技术影响力',
  '本次活动将介绍开源项目的参与方式、贡献流程和最佳实践。内容包括Git工作流、代码审查、文档编写、社区交流等方面，帮助开发者更好地参与开源生态。',
  'https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?prompt=open%20source%20coding%20collaboration%20with%20multiple%20developers&image_size=landscape_16_9',
  '2024-04-05 19:00:00+00',
  '2024-04-05 21:00:00+00',
  '2024-03-01 00:00:00+00',
  '2024-04-03 23:59:59+00',
  '线上直播',
  200,
  89,
  0.00,
  'active',
  '技术',
  ARRAY['开源', '编程', '协作', '技术'],
  (SELECT id FROM auth.users LIMIT 1),
  false,
  NOW(),
  NOW()
),
(
  gen_random_uuid(),
  '产品经理训练营',
  '全面提升产品管理能力，从入门到进阶',
  '为期两天的产品经理训练营，涵盖产品规划、需求分析、用户体验、数据分析、团队协作等核心技能。通过案例分析和实战演练，帮助学员建立完整的产品思维体系。',
  'https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?prompt=product%20management%20training%20with%20charts%20and%20presentations&image_size=landscape_16_9',
  '2024-04-12 09:00:00+00',
  '2024-04-13 17:00:00+00',
  '2024-03-10 00:00:00+00',
  '2024-04-08 23:59:59+00',
  '广州天河区培训中心',
  50,
  32,
  599.00,
  'active',
  '培训',
  ARRAY['产品', '管理', '培训', '技能'],
  (SELECT id FROM auth.users LIMIT 1),
  true,
  NOW(),
  NOW()
);

-- 为表授权
GRANT SELECT ON activities TO anon;
GRANT SELECT ON activities TO authenticated;
GRANT SELECT ON activity_registrations TO anon;
GRANT ALL PRIVILEGES ON activity_registrations TO authenticated;